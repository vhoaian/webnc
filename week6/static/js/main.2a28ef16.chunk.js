(this.webpackJsonpgiuaky=this.webpackJsonpgiuaky||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"a":"https://webnc-1712265-gk.herokuapp.com","b":"jwt"}')},154:function(e,a,t){e.exports=t(214)},214:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),i=t.n(l),o=t(15),c=t(11),u=t(14),m=t(43),d=t(267),s=t(259),p=t(248),g=t(258),f=t(256),h=t(251),b=t(255),v=t(254),E=t(253),y=t(96),C=t(257),O=t(129),k=t.n(O),j=t(130),w=t.n(j),x=Object(p.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}})),N=function(e){var a=e.id,t=e.name,n=e.created_at,l=e.onEdit,i=e.onDelete,c=x();return r.a.createElement(h.a,{className:c.card},r.a.createElement(E.a,{className:c.cardMedia,image:"https://source.unsplash.com/random",title:"Image title"}),r.a.createElement(v.a,{className:c.cardContent},r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(y.a,null,new Date(n).toLocaleString())),r.a.createElement(b.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(f.a,{component:o.b,to:"/board/".concat(a),color:"primary",variant:"contained"},"Xem b\u1ea3ng"),r.a.createElement("div",null,r.a.createElement(C.a,{"aria-label":"edit",color:"primary",onClick:function(){l(a)}},r.a.createElement(k.a,null)),r.a.createElement(C.a,{"aria-label":"delete",color:"secondary",onClick:function(){i(a)}},r.a.createElement(w.a,null)))))},S=t(77),D=t.n(S),T=Object(p.a)((function(e){return{card:{height:"100%",minHeight:"250px",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url('/plus.png')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",border:"1px gray dashed",backgroundSize:"40%","&:hover":{backgroundColor:"rgba(1, 0, 0, 0.1)"},"&:hover > a":{visibility:"visible"},"& > a":{visibility:"hidden"}}}})),W=function(){var e=T();return r.a.createElement(h.a,{className:e.card,elevation:0},r.a.createElement(f.a,{component:o.b,to:"/board/new",color:"primary",variant:"contained",startIcon:r.a.createElement(D.a,null)},"T\u1ea1o b\u1ea3ng m\u1edbi"))},I=Object(p.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)}}})),B=function(e){var a=e.boards,t=e.handleEdit,n=e.handleDelete,l=I();return r.a.createElement(g.a,{className:l.cardGrid,maxWidth:"md"},r.a.createElement(s.a,{container:!0,spacing:4},r.a.createElement(s.a,{item:!0,key:"add",xs:12,sm:6,md:4},r.a.createElement(W,null)),a.map((function(e){return r.a.createElement(s.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(N,{name:e.name,created_at:e.created_at,id:e.id,onDelete:n,onEdit:t}))}))))},U=t(268),_=t(58),F=t.n(_);var A={get:F.a.get,post:F.a.post,put:F.a.put,delete:F.a.delete,setJwt:function(e){F.a.defaults.headers.common.Authorization="JWT ".concat(e)}},q=t(13),G=q.a+"/boards";var J={getAllBoards:function(){return A.get(G)},getBoard:function(e){return A.get(G+"/".concat(e))},addNewBoard:function(e){return A.post(G,{name:e})},updateBoard:function(e,a){return A.put(G+"/".concat(e),a)},deleteBoard:function(e,a){return A.delete(G+"/".concat(e))}},V=t(275),L=t(274),P=t(266),z=t(261),H=t(262),K=t(260);function X(e){var a=e.open,t=e.onSubmit,l=e.onClose,i=e.title,o=e.content,u=e.submitText,m=e.closeText,d=e.labelName,s=e.inputId,p=e.inputType,g=e.fullWidth,h=e.maxWidth,b=e.defaultValue,v=Object(n.useState)(""),E=Object(c.a)(v,2),y=E[0],C=E[1],O=l;return Object(n.useEffect)((function(){C(b)}),[b]),r.a.createElement(L.a,{open:a,onClose:O,"aria-labelledby":"form-dialog-title",fullWidth:g,maxWidth:h||"md"},r.a.createElement(K.a,{id:"form-dialog-title"},i),r.a.createElement(z.a,null,r.a.createElement(H.a,null,o),r.a.createElement(V.a,{autoFocus:!0,margin:"dense",id:s||"name",label:d,type:p||"text",fullWidth:!0,onChange:function(e){return C(e.target.value)},value:y})),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:O,color:"secondary",variant:"outlined"},m||"\u0110\xf3ng"),r.a.createElement(f.a,{onClick:function(){t(y),C(b)},color:"primary",variant:"contained"},u||"OK")))}function M(e){var a=e.open,t=e.onSubmit,n=e.onClose,l=e.title,i=e.content,o=e.submitText,c=e.closeText;return r.a.createElement(L.a,{open:a,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(K.a,{id:"alert-dialog-title"},l),r.a.createElement(z.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},i)),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:n,color:"secondary",variant:"outlined"},c||"\u0110\xf3ng"),r.a.createElement(f.a,{onClick:t,color:"primary",variant:"contained",autoFocus:!0},o||"OK")))}function R(){var e=Object(n.useState)([]),a=Object(c.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(!0),o=Object(c.a)(i,2),u=o[0],s=o[1],p=Object(n.useState)(!1),g=Object(c.a)(p,2),f=g[0],h=g[1],b=Object(n.useState)(!1),v=Object(c.a)(b,2),E=v[0],y=v[1],C=Object(n.useState)(null),O=Object(c.a)(C,2),k=O[0],j=O[1];return Object(n.useEffect)((function(){J.getAllBoards().then((function(e){l(e.data),s(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement("main",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(B,{boards:t,handleEdit:function(e){h(!0),j(t.find((function(a){return a.id===e})))},handleDelete:function(e){y(!0),j(t.find((function(a){return a.id===e})))}}),r.a.createElement(U.a,{style:{display:u?"block":"none"}}),r.a.createElement(X,{open:f,onClose:function(){return h(!1)},onSubmit:function(e){if(e!==k.name){J.updateBoard(k.id,{name:e});var a=Object(m.a)(t);a.find((function(e){return e.id===k.id})).name=e,l(a)}h(!1)},title:"C\u1eadp nh\u1eadt b\u1ea3ng",content:"Nh\u1eadp t\xean m\u1edbi cho b\u1ea3ng:",submitText:"C\u1eadp nh\u1eadt",labelName:"Nh\u1eadp t\xean b\u1ea3ng",fullWidth:!0,maxWidth:"sm",defaultValue:k?k.name:""}),r.a.createElement(M,{open:E,onSubmit:function(){J.deleteBoard(k.id);var e=t.filter((function(e){return e.id!==k.id}));l(e),y(!1)},onClose:function(){return y(!1)},title:"Xo\xe1 b\u1ea3ng",content:"X\xe1c nh\u1eadn xo\xe1 b\u1ea3ng ".concat(k?k.name:"","?"),submitText:"X\xe1c nh\u1eadn"})))}function Q(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement(g.a,{style:{display:"flex",justifyContent:"center"},maxWidth:"md"},r.a.createElement("h1",{style:{textAlign:"center"}},"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi h\u1ec7 th\u1ed1ng Sprint Retrospective. Vui l\xf2ng ch\u1ecdn ch\u1ee9c n\u0103ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5.")))}var Y=t(27),Z=t.n(Y),$=t(57),ee=t(131),ae=q.a+"/auth",te=q.a+"/auth/facebook",ne=q.a+"/auth/google";function re(){return(re=Object($.a)(Z.a.mark((function e(a,t){var n,r,l;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post(ae,{username:a,password:t});case 2:n=e.sent,r=n.data,l=r.token,localStorage.setItem(q.b,l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object($.a)(Z.a.mark((function e(a){var t,n,r,l,i,o,c,u;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.token,n=a.id,r=a.name,l=a.email,i=a.pictureUrl,e.next=3,A.post(te,{token:t,id:n,name:r,email:l,pictureUrl:i});case 3:o=e.sent,c=o.data,u=c.token,localStorage.setItem(q.b,u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object($.a)(Z.a.mark((function e(a){var t,n,r,l,i,o,c,u;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.token,n=a.id,r=a.name,l=a.email,i=a.pictureUrl,e.next=3,A.post(ne,{token:t,id:n,name:r,email:l,pictureUrl:i});case 3:o=e.sent,c=o.data,u=c.token,localStorage.setItem(q.b,u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return localStorage.getItem(q.b)}A.setJwt(oe());var ce={login:function(e,a){return re.apply(this,arguments)},loginFacebook:function(e){return le.apply(this,arguments)},loginGoogle:function(e){return ie.apply(this,arguments)},loginWithJwt:function(e){localStorage.setItem(q.b,e)},logout:function(){localStorage.removeItem(q.b)},getCurrentUser:function(){try{var e=localStorage.getItem(q.b);return Object(ee.a)(e)}catch(a){return null}},getJwt:oe},ue=t(132),me=t.n(ue),de=t(133),se=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function pe(){var e=se(),a=Object(n.useState)(""),t=Object(c.a)(a,2),l=t[0],i=t[1],m=function(e){var a=e.accessToken,t=e.profileObj;a&&ce.loginGoogle({token:a,id:t.googleId,name:t.name,email:t.email,pictureUrl:t.imageUrl}).then((function(e){return window.location="/webnc/week6/"}))};return ce.getCurrentUser()?r.a.createElement(u.a,{to:"/"}):r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{component:"h1",variant:"h5"},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,onChange:function(e){i(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),ce.login(l,document.getElementById("password").value).then((function(e){return window.location="/webnc/week6"}))}},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(me.a,{appId:"415162146534658",fields:"name,email,picture",callback:function(e){var a=e.accessToken,t=e.id,n=e.name,r=e.email,l=e.picture;ce.loginFacebook({token:a,id:t,name:n,email:r,pictureUrl:l.data.url}).then((function(e){return window.location="/webnc/week6"}))},textButton:"\u0110\u0103ng nh\u1eadp v\u1edbi Facebook",buttonStyle:{margin:10}}),r.a.createElement(de.GoogleLogin,{clientId:"685388383345-cgbob49r2bicn64lvkn75854746fqpee.apps.googleusercontent.com",buttonText:"\u0110\u0103ng nh\u1eadp v\u1edbi Google",onSuccess:m,onFailure:m,cookiePolicy:"single_host_origin",style:{margin:10}}),r.a.createElement("div",{style:{margin:10}},r.a.createElement("span",null,"N\u1ebfu ch\u01b0a c\xf3 t\xe0i kho\u1ea3n, "),r.a.createElement(o.b,{to:"/register"},"nh\u1ea5n v\xe0o \u0111\xe2y \u0111\u1ec3 \u0111\u0103ng k\xfd!"))))))}var ge=t(51),fe=t(23),he=t(276),be=t(277),ve=t(265),Ee=t(272),ye=q.a+"/users";function Ce(e){return A.get(ye+"/".concat(e))}function Oe(){return(Oe=Object($.a)(Z.a.mark((function e(a){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(a);case 2:return t=e.sent,e.abrupt("return",t.data.avatar?q.a+"/"+t.data.avatar:null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke={getUser:Ce,addNewUser:function(e){return A.post(ye,e)},updateUser:function(e,a){return A.put(ye+"/".concat(e),a)},updateAvatar:function(e,a){var t=new FormData;return t.append("avatar",a),A.post(ye+"/"+e+"/avatar",t,{headers:{"Content-Type":"multipart/form-data"}})},getAvatarSrc:function(e){return Oe.apply(this,arguments)}},je=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),marginBottom:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120}}}));function we(){var e=je(),a=Object(n.useState)({name:"",dob:(new Date).toJSON().slice(0,10),gender:0,email:"",address:"",phone:"",username:""}),t=Object(c.a)(a,2),l=t[0],i=t[1];if(ce.getCurrentUser())return r.a.createElement(u.a,{to:"/"});var m=function(e){i(Object(fe.a)(Object(fe.a)({},l),{},Object(ge.a)({},e.target.name,e.target.value)))};return r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{component:"h1",variant:"h5"},"\u0110\u0103ng k\xfd"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,id:"username",label:"T\xean \u0111\u0103ng nh\u1eadp",name:"username",value:l.username,onChange:m}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"H\u1ecd t\xean",name:"name",value:l.name,onChange:m}),r.a.createElement(ve.a,{required:!0,variant:"outlined",margin:"normal",className:e.formControl},r.a.createElement(he.a,{id:"gender-label"},"Gi\u1edbi t\xednh"),r.a.createElement(Ee.a,{labelId:"gender-label",id:"gender",name:"gender",label:"Gender",defaultValue:0,value:l.gender,onChange:m},r.a.createElement(be.a,{value:0},"B\xed m\u1eadt"),r.a.createElement(be.a,{value:1},"Nam"),r.a.createElement(be.a,{value:2},"N\u1eef"))),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:l.email,onChange:m}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"address",label:"\u0110\u1ecba ch\u1ec9",name:"address",value:l.address,onChange:m}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",type:"number",value:l.phone,onChange:m}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"dob",label:"Ng\xe0y sinh",name:"dob",InputLabelProps:{shrink:!0},type:"date",value:l.dob,onChange:m}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),ke.addNewUser(Object(fe.a)(Object(fe.a)({},l),{},{password:document.getElementById("password").value})).then((function(e){ce.loginWithJwt(e.data.token),window.location="/webnc/week6"})).catch((function(e){return alert("\u0110\u0103ng k\xfd th\u1ea5t b\u1ea1i. T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i.")}))}},"\u0110\u0103ng k\xfd"),r.a.createElement("span",null,"N\u1ebfu b\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n, "),r.a.createElement(o.b,{to:"/login",variant:"body2"},"nh\u1ea5n v\xe0o \u0111\xe2y \u0111\u1ec3 \u0111\u0103ng nh\u1eadp!"))))}var xe=t(269),Ne=t(281),Se=t(280),De=t(134),Te=t.n(De),We=q.a+"/boards";var Ie={getAllCards:function(e){return A.get("".concat(We,"/").concat(e,"/cards"))},getCard:function(e,a){return A.get("".concat(We,"/").concat(e,"/cards/").concat(a))},addNewCard:function(e,a){var t=a.content,n=a.type;return A.post("".concat(We,"/").concat(e,"/cards"),{content:t,type:n})},updateCard:function(e,a,t){return A.put("".concat(We,"/").concat(e,"/cards/").concat(a),t)},deleteCard:function(e,a){return A.delete("".concat(We,"/").concat(e,"/cards/").concat(a))}},Be=t(279),Ue=function(e){var a=e.card,t=e.onDoubleClick,l=e.onDelete;var i=Object(n.useState)(null),o=Object(c.a)(i,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){ke.getAvatarSrc(a.created_by).then((function(e){m(e)}))}),[a.created_by]),r.a.createElement(Be.a,{avatar:r.a.createElement(Se.a,{src:u}),label:a.content,color:"primary",style:{fontSize:"1.2em",paddingTop:20,paddingBottom:20,paddingLeft:10,paddingRight:10,margin:5},onDelete:function(){l(a.id)},draggable:!0,"data-id":a.id,onDragStart:function(e){e.dataTransfer.setData("text",e.target.dataset.id)},onDoubleClick:function(){t(a.id)}})},_e=function(e){var a=e.handleClickNewCard,t=e.type;return r.a.createElement(f.a,{color:"primary",variant:"outlined",style:{fontSize:"1.2em",margin:5},startIcon:r.a.createElement(D.a,null),onClick:function(){return a(t)}},"T\u1ea1o th\u1ebb m\u1edbi")};function Fe(e){var a=e.onDrop,t=e.onDragOver,n=e.handleClickNewCard,l=e.cards,i=e.isLoading,o=e.columnName,c=e.type,u=e.onDoubleClick,m=e.handleDeleteCard;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",border:"1px gray dashed",padding:20,paddingTop:5,paddingBottom:50,alignItems:"center"},"data-type":c,onDrop:a,onDragOver:t},r.a.createElement("h3",null,o),r.a.createElement(_e,{handleClickNewCard:n,type:c}),l.map((function(e){return r.a.createElement(Ue,{key:e.id,card:e,onDoubleClick:u,onDelete:m})})),r.a.createElement(U.a,{style:{display:i?"block":"none"}}))}var Ae=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexWrap:"wrap",justifyContent:"space-around"}}})),qe=Te()(q.a,{transports:["websocket"]});function Ge(){var e=Ae(),a=Object(n.useState)(null),t=Object(c.a)(a,2),l=t[0],i=t[1],o=Object(n.useState)(null),s=Object(c.a)(o,2),p=s[0],f=s[1],h=Object(n.useState)([]),b=Object(c.a)(h,2),v=b[0],E=b[1],y=Object(n.useState)(!1),C=Object(c.a)(y,2),O=C[0],k=C[1],j=Object(n.useState)(!1),w=Object(c.a)(j,2),x=w[0],N=w[1],S=Object(n.useState)(!1),D=Object(c.a)(S,2),T=D[0],W=D[1],I=Object(n.useState)(null),B=Object(c.a)(I,2),U=B[0],_=B[1],F=Object(u.h)().id,A=Object(n.useState)(!0),q=Object(c.a)(A,2),G=q[0],V=q[1],L=Object(n.useState)(null),P=Object(c.a)(L,2),z=P[0],H=P[1];function K(e){e.preventDefault();var a=parseInt(e.dataTransfer.getData("text"));if(e.target.dataset.type){var t=parseInt(e.target.dataset.type);!function(e,a){if(e.type===a)return;var t=e.type,n=Object(m.a)(v);n.find((function(a){return a.id===e.id})).type=a,E(n),Ie.updateCard(F,e.id,{type:a}).then((function(e){qe.emit("change",{board_id:F})})).catch((function(a){n.find((function(a){return a.id===e.id})).type=t,E(Object(m.a)(n))}))}(v.find((function(e){return e.id===a})),t)}}function M(e){e.preventDefault()}function R(e){k(!0),_(e)}function Q(e){N(!0),f(v.find((function(a){return a.id===e})))}function Y(e){Ie.deleteCard(F,e).then((function(a){var t=v.filter((function(a){return a.id!==e}));E(t),qe.emit("change",{board_id:F})}))}return Object(n.useEffect)((function(){J.getBoard(F).then((function(e){return i(e.data),W(e.data.is_sharing),e.data.created_by})).then((function(e){return ke.getAvatarSrc(e)})).then((function(e){H(e)})).then((function(e){return Ie.getAllCards(F)})).then((function(e){E(e.data),V(!1)})).catch((function(e){alert("T\u1ea3i b\u1ea3ng th\u1ea5t b\u1ea1i do b\u1ea3ng kh\xf4ng t\u1ed3n t\u1ea1i ho\u1eb7c ch\u01b0a \u0111\u01b0\u1ee3c chia s\u1ebb"),V(!1)})),qe.emit("join",{board_id:F}),qe.on("update",(function(){Ie.getAllCards(F).then((function(e){E(e.data)}))}))}),[F]),r.a.createElement(g.a,{component:"main"},r.a.createElement(d.a,null),r.a.createElement("div",{style:{margin:20}},l&&ce.getCurrentUser().id===l.created_by?r.a.createElement(xe.a,{style:{float:"right"},control:r.a.createElement(Ne.a,{checked:T,onChange:function(){J.updateBoard(F,{is_sharing:!T}).then((function(e){W(e.data.is_sharing)}))},name:"isSharing",color:"primary"}),labelPlacement:"start",label:T?"\u0110ang chia s\u1ebb":"\u0110\xe3 kho\xe1 chia s\u1ebb"}):null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Se.a,{src:z,style:{height:70,width:70}}),r.a.createElement("h2",{style:{margin:20}},l?l.name:null))),r.a.createElement("div",{className:e.paper},r.a.createElement(Fe,{onDrop:K,onDragOver:M,type:1,isLoading:G,handleClickNewCard:R,cards:v.filter((function(e){return 1===e.type})),columnName:"Went well",onDoubleClick:Q,handleDeleteCard:Y}),r.a.createElement(Fe,{onDrop:K,onDragOver:M,type:2,isLoading:G,handleClickNewCard:R,cards:v.filter((function(e){return 2===e.type})),columnName:"To improve",onDoubleClick:Q,handleDeleteCard:Y}),r.a.createElement(Fe,{onDrop:K,onDragOver:M,type:3,isLoading:G,handleClickNewCard:R,cards:v.filter((function(e){return 3===e.type})),columnName:"Action Items",onDoubleClick:Q,handleDeleteCard:Y})),r.a.createElement(X,{open:O,onSubmit:function(e){k(!1),Ie.addNewCard(F,{content:e,type:U}).then((function(e){E([e.data].concat(Object(m.a)(v))),qe.emit("change",{board_id:F})}))},onClose:function(){return k(!1)},title:"Th\xeam th\u1ebb m\u1edbi",content:"Nh\u1eadp n\u1ed9i dung th\u1ebb mu\u1ed1n t\u1ea1o",submitText:"T\u1ea1o th\u1ebb",labelName:"N\u1ed9i dung th\u1ebb",fullWidth:!0,maxWidth:"sm",defaultValue:""}),r.a.createElement(X,{open:x,onSubmit:function(e){N(!1),Ie.updateCard(F,p.id,{content:e}).then((function(a){var t=Object(m.a)(v);t.find((function(e){return e.id===p.id})).content=e,E(t),qe.emit("change",{board_id:F})}))},onClose:function(){return N(!1)},title:"S\u1eeda n\u1ed9i dung th\u1ebb",content:"Nh\u1eadp n\u1ed9i dung m\u1edbi cho th\u1ebb",submitText:"L\u01b0u th\u1ebb",labelName:"N\u1ed9i dung th\u1ebb",fullWidth:!0,maxWidth:"sm",defaultValue:p?p.content:""}))}var Je=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column"},submit:{margin:e.spacing(3,0,2),alignSelf:"center"}}}));function Ve(){var e=Je(),a=Object(u.g)();return r.a.createElement(g.a,{component:"main",maxWidth:"sm"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{component:"h1",variant:"h5"},"Th\xeam b\u1ea3ng m\u1edbi"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"T\xean b\u1ea3ng",name:"name",autoFocus:!0}),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),J.addNewBoard(document.getElementById("name").value).then((function(e){a.push("/board/".concat(e.data.id))})).catch((function(e){}))}},"T\u1ea1o b\u1ea3ng"))))}var Le=t(270),Pe=t(271),ze=t(95),He=t.n(ze),Ke=t(135),Xe=t.n(Ke),Me=Object(p.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)}}})),Re=function(e){var a=e.user,t=Me();return r.a.createElement(Le.a,{position:"sticky",color:"default",elevation:0,className:t.appBar},r.a.createElement(Pe.a,{className:t.toolbar},r.a.createElement(y.a,{variant:"h6",color:"inherit",noWrap:!0,className:t.toolbarTitle,component:o.b,to:"/"},"Board"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{component:o.b,to:"/profile",variant:"contained",color:"primary",className:t.link,startIcon:r.a.createElement(He.a,null)},"H\u1ed3 s\u01a1"),r.a.createElement(f.a,{onClick:function(){ce.logout(),window.location="/webnc/week6/"},color:"primary",variant:"outlined",className:t.link,startIcon:r.a.createElement(Xe.a,null)},"\u0110\u0103ng xu\u1ea5t")):r.a.createElement(f.a,{component:o.b,to:"/login",color:"primary",variant:"outlined",className:t.link,startIcon:r.a.createElement(He.a,null)},"\u0110\u0103ng nh\u1eadp")))},Qe=t(136),Ye=t.n(Qe),Ze=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),marginBottom:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120}}})),$e=ce.getCurrentUser();function ea(){var e=Ze(),a=Object(n.useState)({name:"",dob:(new Date).toJSON().slice(0,10),gender:0,email:"",address:"",phone:"",avatar:""}),t=Object(c.a)(a,2),l=t[0],i=t[1];Object(n.useEffect)((function(){$e&&ke.getUser($e.id).then((function(e){var a=e.data,t=a.name,n=a.dob,r=a.gender,l=a.email,o=a.address,c=a.phone,u=a.avatar;i({name:t,dob:new Date(n).toJSON().slice(0,10),gender:r,email:l||"",address:o||"",phone:c||"",avatar:u||""})})).catch((function(e){}))}),[]);var o=function(e){i(Object(fe.a)(Object(fe.a)({},l),{},Object(ge.a)({},e.target.name,e.target.value)))};return $e?r.a.createElement(g.a,{component:"main",maxWidth:"md"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},l.avatar?r.a.createElement(Se.a,{src:"".concat(q.a,"/").concat(l.avatar),alt:"\u1ea2nh \u0111\u1ea1i di\u1ec7n",style:{height:200,width:200}}):r.a.createElement(Se.a,{style:{height:200,width:200,backgroundColor:"purple"}},l.name),r.a.createElement(Ye.a,{buttonText:"Ch\u1ecdn \u1ea3nh \u0111\u1ea1i di\u1ec7n",label:"Kh\xf4ng ch\u1ecdn \u1ea3nh v\u01b0\u1ee3t qu\xe1 1MB",onChange:function(e){e&&1===e.length&&ke.updateAvatar($e.id,e[0]).then((function(e){i(Object(fe.a)(Object(fe.a)({},l),{},{avatar:e.data.avatar}))}))},imgExtension:[".jpg"],maxFileSize:1048576,fileSizeError:"K\xedch th\u01b0\u1edbc \u1ea3nh qu\xe1 l\u1edbn",fileTypeError:"Ch\u1ec9 ch\u1ea5p nh\u1eadn \u0111\u1ecbnh d\u1ea1ng \u1ea3nh jpg",singleImage:!0}),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(V.a,{margin:"normal",fullWidth:!0,id:"username",label:"T\xean \u0111\u0103ng nh\u1eadp",name:"username",InputProps:{readOnly:!0},variant:"filled",defaultValue:$e.username}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"H\u1ecd t\xean",name:"name",value:l.name,onChange:o}),r.a.createElement(ve.a,{required:!0,variant:"outlined",margin:"normal",className:e.formControl},r.a.createElement(he.a,{id:"gender-label"},"Gi\u1edbi t\xednh"),r.a.createElement(Ee.a,{labelId:"gender-label",id:"gender",name:"gender",label:"Gender",defaultValue:0,value:l.gender,onChange:o},r.a.createElement(be.a,{value:0},"B\xed m\u1eadt"),r.a.createElement(be.a,{value:1},"Nam"),r.a.createElement(be.a,{value:2},"N\u1eef"))),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:l.email,onChange:o}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"address",label:"\u0110\u1ecba ch\u1ec9",name:"address",value:l.address,onChange:o}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",type:"number",value:l.phone,onChange:o}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"dob",label:"Ng\xe0y sinh",name:"dob",InputLabelProps:{shrink:!0},type:"date",value:l.dob,onChange:o}),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),ke.updateUser($e.id,Object(fe.a)(Object(fe.a)({},l),{},{dob:new Date(l.dob)})).then((function(e){return alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})).catch((function(e){return alert("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i")}))}},"L\u01b0u th\xf4ng tin")))):r.a.createElement(u.a,{to:"/"})}function aa(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){l(ce.getCurrentUser())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,{user:t}),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/register",component:we}),r.a.createElement(u.b,{path:"/login",component:pe}),r.a.createElement(u.b,{path:"/profile",component:ea}),r.a.createElement(u.b,{exact:!0,path:"/board/new",component:Ve}),r.a.createElement(u.b,{path:"/board/:id",component:Ge}),r.a.createElement(u.b,{path:"/",component:t?R:Q})))}i.a.render(r.a.createElement(o.a,null,r.a.createElement(aa,null)),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.2a28ef16.chunk.js.map