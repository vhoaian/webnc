{"version":3,"sources":["components/board/BoardItem.js","components/board/BoardNewItem.js","components/board/BoardList.js","services/httpService.js","services/boardService.js","components/shared/InputDialog.js","components/shared/AlertDialog.js","components/home/Home.js","components/home/Welcome.js","services/authService.js","components/user/Login.js","services/userService.js","components/user/Register.js","services/cardService.js","components/card/index.js","components/card/Empty.js","components/board/Column.js","components/board/index.js","components/board/NewBoard.js","components/shared/Header.js","components/profile/index.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","card","height","display","flexDirection","cardMedia","paddingTop","cardContent","flexGrow","BoardItem","id","name","created_at","onEdit","onDelete","classes","className","CardMedia","image","title","CardContent","Typography","gutterBottom","variant","component","Date","toLocaleString","CardActions","style","justifyContent","Button","Link","to","color","IconButton","aria-label","onClick","minHeight","alignItems","backgroundImage","backgroundRepeat","backgroundPosition","border","backgroundSize","backgroundColor","visibility","BoardNewItem","elevation","startIcon","cardGrid","spacing","paddingBottom","BoardList","boards","handleEdit","handleDelete","Container","maxWidth","Grid","container","item","key","xs","sm","md","map","board","get","axios","post","put","delete","setJwt","jwt","defaults","headers","common","endpoint","apiLocation","getAllBoards","http","getBoard","addNewBoard","updateBoard","body","deleteBoard","InputDialog","open","onSubmit","onClose","content","submitText","closeText","labelName","inputId","inputType","fullWidth","defaultValue","useState","value","setValue","handleClose","useEffect","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","type","onChange","evt","target","DialogActions","AlertDialog","aria-describedby","Home","setBoards","isLoading","setIsLoading","openInputDialog","setOpenInputDialog","openAlertDialog","setOpenAlertDialog","currentSelectedBoard","setCurrentSelectedBoard","boardService","then","result","data","Fragment","CssBaseline","find","CircularProgress","_boards","filter","Welcome","textAlign","endpointFacebook","endpointGoogle","username","password","a","token","localStorage","setItem","tokenKey","email","pictureUrl","getJwt","getItem","login","loginFacebook","loginGoogle","loginWithJwt","logout","removeItem","getCurrentUser","jwtDecode","ex","paper","marginTop","avatar","palette","secondary","main","form","width","submit","Login","setUsername","responseGoogle","accessToken","profileObj","authService","googleId","imageUrl","_","window","location","noValidate","required","event","preventDefault","document","getElementById","appId","fields","callback","picture","url","textButton","buttonStyle","clientId","buttonText","onSuccess","onFailure","cookiePolicy","getUser","user","addNewUser","updateUser","updateAvatar","formData","FormData","append","getAvatarSrc","marginBottom","formControl","minWidth","Register","dob","toJSON","slice","gender","address","phone","profile","setProfile","handleChange","FormControl","InputLabel","Select","labelId","MenuItem","InputLabelProps","shrink","userService","response","catch","error","alert","getAllCards","board_id","getCard","addNewCard","updateCard","deleteCard","Card","onDoubleClick","setAvatar","created_by","Chip","Avatar","src","fontSize","paddingLeft","paddingRight","draggable","data-id","onDragStart","ev","dataTransfer","setData","dataset","Empty","handleClickNewCard","Column","onDrop","onDragOver","cards","columnName","handleDeleteCard","padding","data-type","flexWrap","socket","socketIOClient","transports","Board","setBoard","currentCard","setCurrentCard","setCards","isNewCardOpened","setIsNewCardOpen","isEditCardOpened","setIsEditCardOpen","isSharing","setIsSharing","setType","useParams","card_id","parseInt","getData","newType","oldType","_cards","_card","cardService","emit","handleMoveCard","allowDrop","handleClickEditCard","is_sharing","on","FormControlLabel","float","control","Switch","checked","labelPlacement","alignSelf","NewBoard","history","useHistory","push","appBar","borderBottom","divider","toolbar","toolbarTitle","link","Header","AppBar","position","Toolbar","noWrap","currentUser","Profile","alt","length","respone","imgExtension","maxFileSize","fileSizeError","fileTypeError","singleImage","InputProps","readOnly","App","setUser","path","exact","ReactDOM","render"],"mappings":"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","file":"static/js/main.2a28ef16.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst BoardItem = ({ id, name, created_at, onEdit, onDelete }) => {\r\n  const classes = useStyles();\r\n  const handleEdit = () => {\r\n    onEdit(id);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    onDelete(id);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        className={classes.cardMedia}\r\n        image=\"https://source.unsplash.com/random\"\r\n        title=\"Image title\"\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n          {name}\r\n        </Typography>\r\n        <Typography>{new Date(created_at).toLocaleString()}</Typography>\r\n      </CardContent>\r\n      <CardActions\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Button\r\n          component={Link}\r\n          to={`/board/${id}`}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n        >\r\n          Xem bảng\r\n        </Button>\r\n        <div>\r\n          <IconButton aria-label=\"edit\" color=\"primary\" onClick={handleEdit}>\r\n            <EditIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            aria-label=\"delete\"\r\n            color=\"secondary\"\r\n            onClick={handleDelete}\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </div>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BoardItem;\r\n","import React from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n    height: \"100%\",\r\n    minHeight: \"250px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundImage: \"url('/plus.png')\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center center\",\r\n    border: \"1px gray dashed\",\r\n    backgroundSize: \"40%\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(1, 0, 0, 0.1)\",\r\n    },\r\n    \"&:hover > a\": {\r\n      visibility: \"visible\",\r\n    },\r\n    \"& > a\": {\r\n      visibility: \"hidden\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst BoardNewItem = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Card className={classes.card} elevation={0}>\r\n      <Button\r\n        component={Link}\r\n        to=\"/board/new\"\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        Tạo bảng mới\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BoardNewItem;\r\n","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport BoardItem from \"./BoardItem\";\r\nimport BoardNewItem from \"./BoardNewItem\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n}));\r\n\r\nconst BoardList = ({ boards, handleEdit, handleDelete }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n      <Grid container spacing={4}>\r\n        <Grid item key=\"add\" xs={12} sm={6} md={4}>\r\n          <BoardNewItem />\r\n        </Grid>\r\n        {boards.map((board) => (\r\n          <Grid item key={board.id} xs={12} sm={6} md={4}>\r\n            <BoardItem\r\n              name={board.name}\r\n              created_at={board.created_at}\r\n              id={board.id}\r\n              onDelete={handleDelete}\r\n              onEdit={handleEdit}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BoardList;\r\n","import axios from \"axios\";\r\n\r\nfunction setJwt(jwt) {\r\n  axios.defaults.headers.common[\"Authorization\"] = `JWT ${jwt}`;\r\n}\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n  setJwt,\r\n};\r\n","import http from \"./httpService\";\r\nimport { apiLocation } from \"../config.json\";\r\n\r\nconst endpoint = apiLocation + \"/boards\";\r\n\r\nfunction getAllBoards() {\r\n  return http.get(endpoint);\r\n}\r\n\r\nfunction getBoard(id) {\r\n  return http.get(endpoint + `/${id}`);\r\n}\r\nfunction addNewBoard(name) {\r\n  return http.post(endpoint, { name });\r\n}\r\n\r\nfunction updateBoard(id, body) {\r\n  return http.put(endpoint + `/${id}`, body);\r\n}\r\n\r\nfunction deleteBoard(id, body) {\r\n  return http.delete(endpoint + `/${id}`);\r\n}\r\n\r\nexport default {\r\n  getAllBoards,\r\n  getBoard,\r\n  addNewBoard,\r\n  updateBoard,\r\n  deleteBoard,\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function InputDialog({\r\n  open,\r\n  onSubmit,\r\n  onClose,\r\n  title,\r\n  content,\r\n  submitText,\r\n  closeText,\r\n  labelName,\r\n  inputId,\r\n  inputType,\r\n  fullWidth,\r\n  maxWidth,\r\n  defaultValue,\r\n}) {\r\n  const [value, setValue] = useState(\"\");\r\n  const handleClose = onClose;\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit(value);\r\n    setValue(defaultValue);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(defaultValue);\r\n  }, [defaultValue]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n      fullWidth={fullWidth}\r\n      maxWidth={maxWidth || \"md\"}\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>{content}</DialogContentText>\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id={inputId || \"name\"}\r\n          label={labelName}\r\n          type={inputType || \"text\"}\r\n          fullWidth\r\n          onChange={(evt) => setValue(evt.target.value)}\r\n          value={value}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n          {closeText || \"Đóng\"}\r\n        </Button>\r\n        <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">\r\n          {submitText || \"OK\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function AlertDialog({\r\n  open,\r\n  onSubmit,\r\n  onClose,\r\n  title,\r\n  content,\r\n  submitText,\r\n  closeText,\r\n}) {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          {content}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} color=\"secondary\" variant=\"outlined\">\r\n          {closeText || \"Đóng\"}\r\n        </Button>\r\n        <Button\r\n          onClick={onSubmit}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          autoFocus\r\n        >\r\n          {submitText || \"OK\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nimport BoardList from \"../board/BoardList\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport boardService from \"../../services/boardService\";\r\nimport InputDialog from \"../shared/InputDialog\";\r\nimport AlertDialog from \"../shared/AlertDialog\";\r\n\r\nexport default function Home() {\r\n  const [boards, setBoards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [openInputDialog, setOpenInputDialog] = useState(false);\r\n  const [openAlertDialog, setOpenAlertDialog] = useState(false);\r\n\r\n  const [currentSelectedBoard, setCurrentSelectedBoard] = useState(null);\r\n  const handleEdit = (id) => {\r\n    setOpenInputDialog(true);\r\n    setCurrentSelectedBoard(boards.find((board) => board.id === id));\r\n  };\r\n  const handleDelete = (id) => {\r\n    setOpenAlertDialog(true);\r\n    setCurrentSelectedBoard(boards.find((board) => board.id === id));\r\n  };\r\n  const handleCloseInputDialog = () => setOpenInputDialog(false);\r\n  const handleCloseAlertDialog = () => setOpenAlertDialog(false);\r\n  const handleSubmitInputDialog = (content) => {\r\n    if (content !== currentSelectedBoard.name) {\r\n      boardService.updateBoard(currentSelectedBoard.id, {\r\n        name: content,\r\n      });\r\n      const _boards = [...boards];\r\n      _boards.find(\r\n        (board) => board.id === currentSelectedBoard.id\r\n      ).name = content;\r\n      setBoards(_boards);\r\n    }\r\n    setOpenInputDialog(false);\r\n  };\r\n  const handleSubmitAlertDialog = () => {\r\n    boardService.deleteBoard(currentSelectedBoard.id);\r\n    const _boards = boards.filter(\r\n      (board) => board.id !== currentSelectedBoard.id\r\n    );\r\n    setBoards(_boards);\r\n    setOpenAlertDialog(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    boardService.getAllBoards().then((result) => {\r\n      setBoards(result.data);\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <main\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <BoardList\r\n          boards={boards}\r\n          handleEdit={handleEdit}\r\n          handleDelete={handleDelete}\r\n        />\r\n        <CircularProgress style={{ display: isLoading ? \"block\" : \"none\" }} />\r\n        <InputDialog\r\n          open={openInputDialog}\r\n          onClose={handleCloseInputDialog}\r\n          onSubmit={handleSubmitInputDialog}\r\n          title={`Cập nhật bảng`}\r\n          content={`Nhập tên mới cho bảng:`}\r\n          submitText=\"Cập nhật\"\r\n          labelName=\"Nhập tên bảng\"\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n          defaultValue={currentSelectedBoard ? currentSelectedBoard.name : \"\"}\r\n        />\r\n        <AlertDialog\r\n          open={openAlertDialog}\r\n          onSubmit={handleSubmitAlertDialog}\r\n          onClose={handleCloseAlertDialog}\r\n          title=\"Xoá bảng\"\r\n          content={`Xác nhận xoá bảng ${\r\n            currentSelectedBoard ? currentSelectedBoard.name : \"\"\r\n          }?`}\r\n          submitText=\"Xác nhận\"\r\n        />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { Container } from \"@material-ui/core\";\r\n\r\nexport default function Welcome() {\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Container\r\n        style={{ display: \"flex\", justifyContent: \"center\" }}\r\n        maxWidth=\"md\"\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>\r\n          Chào mừng bạn đến với hệ thống Sprint Retrospective. Vui lòng chọn\r\n          chức năng đăng nhập để sử dụng dịch vụ.\r\n        </h1>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import jwtDecode from \"jwt-decode\";\r\nimport http from \"./httpService\";\r\nimport { apiLocation, tokenKey } from \"../config.json\";\r\n\r\nconst endpoint = apiLocation + \"/auth\";\r\nconst endpointFacebook = apiLocation + \"/auth/facebook\";\r\nconst endpointGoogle = apiLocation + \"/auth/google\";\r\n\r\n// Setting Authorization header to 'JWT xxxxx'\r\nhttp.setJwt(getJwt());\r\n\r\nexport async function login(username, password) {\r\n  const { data } = await http.post(endpoint, { username, password });\r\n  const jwt = data.token;\r\n  localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport async function loginFacebook({ token, id, name, email, pictureUrl }) {\r\n  const { data } = await http.post(endpointFacebook, {\r\n    token,\r\n    id,\r\n    name,\r\n    email,\r\n    pictureUrl,\r\n  });\r\n  const jwt = data.token;\r\n  localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport async function loginGoogle({ token, id, name, email, pictureUrl }) {\r\n  const { data } = await http.post(endpointGoogle, {\r\n    token,\r\n    id,\r\n    name,\r\n    email,\r\n    pictureUrl,\r\n  });\r\n  const jwt = data.token;\r\n  localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function loginWithJwt(jwt) {\r\n  localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const jwt = localStorage.getItem(tokenKey);\r\n    return jwtDecode(jwt);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function getJwt() {\r\n  return localStorage.getItem(tokenKey);\r\n}\r\n\r\nexport default {\r\n  login,\r\n  loginFacebook,\r\n  loginGoogle,\r\n  loginWithJwt,\r\n  logout,\r\n  getCurrentUser,\r\n  getJwt,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport authService from \"../../services/authService\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n\r\n  const handleClickLogin = (event) => {\r\n    event.preventDefault();\r\n    authService\r\n      .login(username, document.getElementById(\"password\").value)\r\n      .then((_) => (window.location = \"/webnc/week6\"));\r\n  };\r\n\r\n  const handleUsernameChanged = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const responseFacebook = ({ accessToken, id, name, email, picture }) => {\r\n    authService\r\n      .loginFacebook({\r\n        token: accessToken,\r\n        id,\r\n        name,\r\n        email,\r\n        pictureUrl: picture.data.url,\r\n      })\r\n      .then((_) => (window.location = \"/webnc/week6\"));\r\n  };\r\n\r\n  const responseGoogle = ({ accessToken, profileObj }) => {\r\n    if (!accessToken) return;\r\n    authService\r\n      .loginGoogle({\r\n        token: accessToken,\r\n        id: profileObj.googleId,\r\n        name: profileObj.name,\r\n        email: profileObj.email,\r\n        pictureUrl: profileObj.imageUrl,\r\n      })\r\n      .then((_) => (window.location = \"/webnc/week6/\"));\r\n  };\r\n\r\n  if (authService.getCurrentUser()) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Đăng nhập\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"Username\"\r\n            name=\"username\"\r\n            autoFocus\r\n            onChange={handleUsernameChanged}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleClickLogin}\r\n          >\r\n            Đăng nhập\r\n          </Button>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <FacebookLogin\r\n              appId=\"415162146534658\"\r\n              // autoLoad={true}\r\n              fields=\"name,email,picture\"\r\n              callback={responseFacebook}\r\n              textButton=\"Đăng nhập với Facebook\"\r\n              buttonStyle={{ margin: 10 }}\r\n            />\r\n            <GoogleLogin\r\n              clientId=\"685388383345-cgbob49r2bicn64lvkn75854746fqpee.apps.googleusercontent.com\"\r\n              buttonText=\"Đăng nhập với Google\"\r\n              onSuccess={responseGoogle}\r\n              onFailure={responseGoogle}\r\n              cookiePolicy={\"single_host_origin\"}\r\n              style={{ margin: 10 }}\r\n            />\r\n            <div style={{ margin: 10 }}>\r\n              <span>Nếu chưa có tài khoản, </span>\r\n              <Link to=\"/register\">nhấn vào đây để đăng ký!</Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import http from \"./httpService\";\r\nimport { apiLocation } from \"../config.json\";\r\n\r\nconst endpoint = apiLocation + \"/users\";\r\n\r\nfunction getUser(id) {\r\n  return http.get(endpoint + `/${id}`);\r\n}\r\n\r\nfunction addNewUser(body) {\r\n  return http.post(endpoint, body);\r\n}\r\n\r\nfunction updateUser(id, body) {\r\n  return http.put(endpoint + `/${id}`, body);\r\n}\r\n\r\nasync function getAvatarSrc(id) {\r\n  const user = await getUser(id);\r\n  return user.data.avatar ? apiLocation + \"/\" + user.data.avatar : null;\r\n}\r\n\r\nfunction updateAvatar(id, picture) {\r\n  const formData = new FormData();\r\n  formData.append(\"avatar\", picture);\r\n  return http.post(endpoint + \"/\" + id + \"/avatar\", formData, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n}\r\n\r\nexport default {\r\n  getUser,\r\n  addNewUser,\r\n  updateUser,\r\n  updateAvatar,\r\n  getAvatarSrc,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport authService from \"../../services/authService\";\r\nimport userService from \"../../services/userService\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  formControl: {\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nexport default function Register() {\r\n  const classes = useStyles();\r\n  const [profile, setProfile] = useState({\r\n    name: \"\",\r\n    dob: new Date().toJSON().slice(0, 10),\r\n    gender: 0,\r\n    email: \"\",\r\n    address: \"\",\r\n    phone: \"\",\r\n    username: \"\",\r\n  });\r\n  if (authService.getCurrentUser()) return <Redirect to=\"/\" />;\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    userService\r\n      .addNewUser({\r\n        ...profile,\r\n        password: document.getElementById(\"password\").value,\r\n      })\r\n      .then((response) => {\r\n        authService.loginWithJwt(response.data.token);\r\n        window.location = \"/webnc/week6\";\r\n      })\r\n      .catch((error) => alert(\"Đăng ký thất bại. Tài khoản đã tồn tại.\"));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setProfile({ ...profile, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Đăng ký\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            required\r\n            id=\"username\"\r\n            label=\"Tên đăng nhập\"\r\n            name=\"username\"\r\n            value={profile.username}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"name\"\r\n            label=\"Họ tên\"\r\n            name=\"name\"\r\n            value={profile.name}\r\n            onChange={handleChange}\r\n          />\r\n          <FormControl\r\n            required\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            className={classes.formControl}\r\n          >\r\n            <InputLabel id=\"gender-label\">Giới tính</InputLabel>\r\n            <Select\r\n              labelId=\"gender-label\"\r\n              id=\"gender\"\r\n              name=\"gender\"\r\n              label=\"Gender\"\r\n              defaultValue={0}\r\n              value={profile.gender}\r\n              onChange={handleChange}\r\n            >\r\n              <MenuItem value={0}>Bí mật</MenuItem>\r\n              <MenuItem value={1}>Nam</MenuItem>\r\n              <MenuItem value={2}>Nữ</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={profile.email}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"address\"\r\n            label=\"Địa chỉ\"\r\n            name=\"address\"\r\n            value={profile.address}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"phone\"\r\n            label=\"Số điện thoại\"\r\n            name=\"phone\"\r\n            type=\"number\"\r\n            value={profile.phone}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"dob\"\r\n            label=\"Ngày sinh\"\r\n            name=\"dob\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            type=\"date\"\r\n            value={profile.dob}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSubmit}\r\n          >\r\n            Đăng ký\r\n          </Button>\r\n          <span>Nếu bạn chưa có tài khoản, </span>\r\n          <Link to=\"/login\" variant=\"body2\">\r\n            nhấn vào đây để đăng nhập!\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import http from \"./httpService\";\r\nimport { apiLocation } from \"../config.json\";\r\n\r\nconst endpoint = apiLocation + \"/boards\";\r\n\r\nfunction getAllCards(board_id) {\r\n  return http.get(`${endpoint}/${board_id}/cards`);\r\n}\r\n\r\nfunction getCard(board_id, id) {\r\n  return http.get(`${endpoint}/${board_id}/cards/${id}`);\r\n}\r\nfunction addNewCard(board_id, { content, type }) {\r\n  return http.post(`${endpoint}/${board_id}/cards`, { content, type });\r\n}\r\n\r\nfunction updateCard(board_id, id, body) {\r\n  return http.put(`${endpoint}/${board_id}/cards/${id}`, body);\r\n}\r\n\r\nfunction deleteCard(board_id, id) {\r\n  return http.delete(`${endpoint}/${board_id}/cards/${id}`);\r\n}\r\n\r\nexport default {\r\n  getAllCards,\r\n  getCard,\r\n  addNewCard,\r\n  updateCard,\r\n  deleteCard,\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Avatar, Chip } from \"@material-ui/core\";\r\nimport userService from \"../../services/userService\";\r\n\r\nconst Card = ({ card, onDoubleClick, onDelete }) => {\r\n  function drag(ev) {\r\n    ev.dataTransfer.setData(\"text\", ev.target.dataset.id);\r\n  }\r\n  function handleDoubleClick() {\r\n    onDoubleClick(card.id);\r\n  }\r\n  function handleDelete() {\r\n    onDelete(card.id);\r\n  }\r\n  const [avatar, setAvatar] = useState(null);\r\n  useEffect(() => {\r\n    userService.getAvatarSrc(card.created_by).then((response) => {\r\n      setAvatar(response);\r\n    });\r\n  }, [card.created_by]);\r\n  return (\r\n    <Chip\r\n      avatar={<Avatar src={avatar} />}\r\n      label={card.content}\r\n      color=\"primary\"\r\n      style={{\r\n        fontSize: \"1.2em\",\r\n        paddingTop: 20,\r\n        paddingBottom: 20,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        margin: 5,\r\n      }}\r\n      onDelete={handleDelete}\r\n      draggable\r\n      data-id={card.id}\r\n      onDragStart={drag}\r\n      onDoubleClick={handleDoubleClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nconst Empty = ({ handleClickNewCard, type }) => {\r\n  return (\r\n    <Button\r\n      color=\"primary\"\r\n      variant=\"outlined\"\r\n      style={{\r\n        fontSize: \"1.2em\",\r\n        margin: 5,\r\n      }}\r\n      startIcon={<AddIcon />}\r\n      onClick={() => handleClickNewCard(type)}\r\n    >\r\n      Tạo thẻ mới\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default Empty;\r\n","import { CircularProgress } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Card from \"../card\";\r\nimport Empty from \"../card/Empty\";\r\n\r\nexport default function Column({\r\n  onDrop,\r\n  onDragOver,\r\n  handleClickNewCard,\r\n  cards,\r\n  isLoading,\r\n  columnName,\r\n  type,\r\n  onDoubleClick,\r\n  handleDeleteCard,\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        border: \"1px gray dashed\",\r\n        padding: 20,\r\n        paddingTop: 5,\r\n        paddingBottom: 50,\r\n        alignItems: \"center\",\r\n      }}\r\n      data-type={type}\r\n      onDrop={onDrop}\r\n      onDragOver={onDragOver}\r\n    >\r\n      <h3>{columnName}</h3>\r\n      <Empty handleClickNewCard={handleClickNewCard} type={type} />\r\n      {cards.map((card) => (\r\n        <Card\r\n          key={card.id}\r\n          card={card}\r\n          onDoubleClick={onDoubleClick}\r\n          onDelete={handleDeleteCard}\r\n        />\r\n      ))}\r\n      <CircularProgress style={{ display: isLoading ? \"block\" : \"none\" }} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  Container,\r\n  FormControlLabel,\r\n  makeStyles,\r\n  Switch,\r\n} from \"@material-ui/core\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport boardService from \"../../services/boardService\";\r\nimport cardService from \"../../services/cardService\";\r\nimport InputDialog from \"../shared/InputDialog\";\r\nimport Column from \"./Column\";\r\nimport { apiLocation } from \"../../config.json\";\r\nimport authService from \"../../services/authService\";\r\nimport userService from \"../../services/userService\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n  },\r\n}));\r\n\r\nconst socket = socketIOClient(apiLocation, {\r\n  transports: [\"websocket\"],\r\n});\r\n\r\nexport default function Board() {\r\n  const classes = useStyles();\r\n  const [board, setBoard] = useState(null);\r\n  const [currentCard, setCurrentCard] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [isNewCardOpened, setIsNewCardOpen] = useState(false);\r\n  const [isEditCardOpened, setIsEditCardOpen] = useState(false);\r\n  const [isSharing, setIsSharing] = useState(false);\r\n  const [type, setType] = useState(null);\r\n  const { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [avatar, setAvatar] = useState(null);\r\n\r\n  useEffect(() => {\r\n    boardService\r\n      .getBoard(id)\r\n      .then((result) => {\r\n        setBoard(result.data);\r\n        setIsSharing(result.data.is_sharing);\r\n        return result.data.created_by;\r\n      })\r\n      .then((id) => userService.getAvatarSrc(id))\r\n      .then((response) => {\r\n        setAvatar(response);\r\n      })\r\n      .then((_) => cardService.getAllCards(id))\r\n      .then((result) => {\r\n        setCards(result.data);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        alert(\"Tải bảng thất bại do bảng không tồn tại hoặc chưa được chia sẻ\");\r\n        setIsLoading(false);\r\n      });\r\n    socket.emit(\"join\", {\r\n      board_id: id,\r\n    });\r\n    socket.on(\"update\", () => {\r\n      cardService.getAllCards(id).then((result) => {\r\n        setCards(result.data);\r\n      });\r\n    });\r\n  }, [id]);\r\n\r\n  function onDrop(ev) {\r\n    ev.preventDefault();\r\n    let card_id = parseInt(ev.dataTransfer.getData(\"text\"));\r\n    if (ev.target.dataset.type) {\r\n      const newType = parseInt(ev.target.dataset.type);\r\n      const card = cards.find((card) => card.id === card_id);\r\n      handleMoveCard(card, newType);\r\n    }\r\n  }\r\n\r\n  function allowDrop(ev) {\r\n    ev.preventDefault();\r\n  }\r\n\r\n  function handleClickNewCard(type) {\r\n    setIsNewCardOpen(true);\r\n    setType(type);\r\n  }\r\n\r\n  function handleSubmitNewCard(content) {\r\n    setIsNewCardOpen(false);\r\n    cardService\r\n      .addNewCard(id, {\r\n        content,\r\n        type,\r\n      })\r\n      .then((result) => {\r\n        setCards([result.data, ...cards]);\r\n        socket.emit(\"change\", { board_id: id });\r\n      });\r\n  }\r\n\r\n  function handleClickEditCard(id) {\r\n    setIsEditCardOpen(true);\r\n    setCurrentCard(cards.find((card) => card.id === id));\r\n  }\r\n\r\n  function handleSubmitEditCard(content) {\r\n    setIsEditCardOpen(false);\r\n    cardService\r\n      .updateCard(id, currentCard.id, {\r\n        content,\r\n      })\r\n      .then((result) => {\r\n        const _cards = [...cards];\r\n        _cards.find((card) => card.id === currentCard.id).content = content;\r\n        setCards(_cards);\r\n        socket.emit(\"change\", { board_id: id });\r\n      });\r\n  }\r\n\r\n  function handleDeleteCard(card_id) {\r\n    cardService.deleteCard(id, card_id).then((result) => {\r\n      const _cards = cards.filter((card) => card.id !== card_id);\r\n      setCards(_cards);\r\n      socket.emit(\"change\", { board_id: id });\r\n    });\r\n  }\r\n\r\n  function handleMoveCard(card, newType) {\r\n    if (card.type === newType) return;\r\n    const oldType = card.type;\r\n    const _cards = [...cards];\r\n    _cards.find((_card) => _card.id === card.id).type = newType;\r\n    setCards(_cards);\r\n    cardService\r\n      .updateCard(id, card.id, {\r\n        type: newType,\r\n      })\r\n      .then((result) => {\r\n        socket.emit(\"change\", { board_id: id });\r\n      })\r\n      .catch((error) => {\r\n        _cards.find((_card) => _card.id === card.id).type = oldType;\r\n        setCards([..._cards]);\r\n      });\r\n  }\r\n\r\n  function handleChangeSharing() {\r\n    boardService\r\n      .updateBoard(id, {\r\n        is_sharing: !isSharing,\r\n      })\r\n      .then((result) => {\r\n        setIsSharing(result.data.is_sharing);\r\n        // const _cards = [...cards];\r\n        // _cards.find((card) => card.id === currentCard.id).content = content;\r\n        // setCards(_cards);\r\n        // socket.emit(\"change\", { board_id: id });\r\n      });\r\n  }\r\n  return (\r\n    <Container component=\"main\">\r\n      <CssBaseline />\r\n      <div style={{ margin: 20 }}>\r\n        {board && authService.getCurrentUser().id === board.created_by ? (\r\n          <FormControlLabel\r\n            style={{ float: \"right\" }}\r\n            control={\r\n              <Switch\r\n                checked={isSharing}\r\n                onChange={handleChangeSharing}\r\n                name=\"isSharing\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            labelPlacement=\"start\"\r\n            label={isSharing ? \"Đang chia sẻ\" : \"Đã khoá chia sẻ\"}\r\n          />\r\n        ) : null}\r\n        <div style={{ display: \"flex\" }}>\r\n          <Avatar src={avatar} style={{ height: 70, width: 70 }} />\r\n          <h2 style={{ margin: 20 }}>{board ? board.name : null}</h2>\r\n        </div>\r\n      </div>\r\n      <div className={classes.paper}>\r\n        <Column\r\n          onDrop={onDrop}\r\n          onDragOver={allowDrop}\r\n          type={1}\r\n          isLoading={isLoading}\r\n          handleClickNewCard={handleClickNewCard}\r\n          cards={cards.filter((card) => card.type === 1)}\r\n          columnName=\"Went well\"\r\n          onDoubleClick={handleClickEditCard}\r\n          handleDeleteCard={handleDeleteCard}\r\n        />\r\n        <Column\r\n          onDrop={onDrop}\r\n          onDragOver={allowDrop}\r\n          type={2}\r\n          isLoading={isLoading}\r\n          handleClickNewCard={handleClickNewCard}\r\n          cards={cards.filter((card) => card.type === 2)}\r\n          columnName=\"To improve\"\r\n          onDoubleClick={handleClickEditCard}\r\n          handleDeleteCard={handleDeleteCard}\r\n        />\r\n        <Column\r\n          onDrop={onDrop}\r\n          onDragOver={allowDrop}\r\n          type={3}\r\n          isLoading={isLoading}\r\n          handleClickNewCard={handleClickNewCard}\r\n          cards={cards.filter((card) => card.type === 3)}\r\n          columnName=\"Action Items\"\r\n          onDoubleClick={handleClickEditCard}\r\n          handleDeleteCard={handleDeleteCard}\r\n        />\r\n      </div>\r\n      <InputDialog\r\n        open={isNewCardOpened}\r\n        onSubmit={handleSubmitNewCard}\r\n        onClose={() => setIsNewCardOpen(false)}\r\n        title=\"Thêm thẻ mới\"\r\n        content=\"Nhập nội dung thẻ muốn tạo\"\r\n        submitText=\"Tạo thẻ\"\r\n        labelName=\"Nội dung thẻ\"\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        defaultValue=\"\"\r\n      />\r\n      <InputDialog\r\n        open={isEditCardOpened}\r\n        onSubmit={handleSubmitEditCard}\r\n        onClose={() => setIsEditCardOpen(false)}\r\n        title=\"Sửa nội dung thẻ\"\r\n        content=\"Nhập nội dung mới cho thẻ\"\r\n        submitText=\"Lưu thẻ\"\r\n        labelName=\"Nội dung thẻ\"\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        defaultValue={currentCard ? currentCard.content : \"\"}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport boardService from \"../../services/boardService\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    alignSelf: \"center\",\r\n  },\r\n}));\r\n\r\nexport default function NewBoard() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const handlePost = (event) => {\r\n    event.preventDefault();\r\n    boardService\r\n      .addNewBoard(document.getElementById(\"name\").value)\r\n      .then(function (response) {\r\n        history.push(`/board/${response.data.id}`);\r\n      })\r\n      .catch(function (error) {});\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"sm\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Thêm bảng mới\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"name\"\r\n            label=\"Tên bảng\"\r\n            name=\"name\"\r\n            autoFocus\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handlePost}\r\n          >\r\n            Tạo bảng\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport authService from \"../../services/authService\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    borderBottom: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  toolbar: {\r\n    flexWrap: \"wrap\",\r\n  },\r\n  toolbarTitle: {\r\n    flexGrow: 1,\r\n  },\r\n  link: {\r\n    margin: theme.spacing(1, 1.5),\r\n  },\r\n}));\r\n\r\nconst Header = ({ user }) => {\r\n  const classes = useStyles();\r\n  const handleLogout = () => {\r\n    authService.logout();\r\n    window.location = \"/webnc/week6/\";\r\n  };\r\n  return (\r\n    <AppBar\r\n      position=\"sticky\"\r\n      color=\"default\"\r\n      elevation={0}\r\n      className={classes.appBar}\r\n    >\r\n      <Toolbar className={classes.toolbar}>\r\n        <Typography\r\n          variant=\"h6\"\r\n          color=\"inherit\"\r\n          noWrap\r\n          className={classes.toolbarTitle}\r\n          component={Link}\r\n          to={\"/\"}\r\n        >\r\n          Board\r\n        </Typography>\r\n\r\n        {user ? (\r\n          <React.Fragment>\r\n            <Button\r\n              component={Link}\r\n              to=\"/profile\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.link}\r\n              startIcon={<PersonIcon />}\r\n            >\r\n              Hồ sơ\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogout}\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              className={classes.link}\r\n              startIcon={<ExitToAppIcon />}\r\n            >\r\n              Đăng xuất\r\n            </Button>\r\n          </React.Fragment>\r\n        ) : (\r\n          <Button\r\n            component={Link}\r\n            to=\"/login\"\r\n            color=\"primary\"\r\n            variant=\"outlined\"\r\n            className={classes.link}\r\n            startIcon={<PersonIcon />}\r\n          >\r\n            Đăng nhập\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Container,\r\n  FormControl,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport userService from \"../../services/userService\";\r\nimport authService from \"../../services/authService\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport { apiLocation } from \"../../config.json\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  formControl: {\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst currentUser = authService.getCurrentUser();\r\n\r\nexport default function Profile() {\r\n  const classes = useStyles();\r\n  const [profile, setProfile] = useState({\r\n    name: \"\",\r\n    dob: new Date().toJSON().slice(0, 10),\r\n    gender: 0,\r\n    email: \"\",\r\n    address: \"\",\r\n    phone: \"\",\r\n    avatar: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      userService\r\n        .getUser(currentUser.id)\r\n        .then((result) => {\r\n          const {\r\n            name,\r\n            dob,\r\n            gender,\r\n            email,\r\n            address,\r\n            phone,\r\n            avatar,\r\n          } = result.data;\r\n          setProfile({\r\n            name,\r\n            dob: new Date(dob).toJSON().slice(0, 10),\r\n            gender,\r\n            email: email ? email : \"\",\r\n            address: address ? address : \"\",\r\n            phone: phone ? phone : \"\",\r\n            avatar: avatar ? avatar : \"\",\r\n          });\r\n        })\r\n        .catch((error) => {});\r\n    }\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setProfile({ ...profile, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    userService\r\n      .updateUser(currentUser.id, {\r\n        ...profile,\r\n        dob: new Date(profile.dob),\r\n      })\r\n      .then((response) => alert(\"Cập nhật thành công\"))\r\n      .catch((error) => alert(\"Cập nhật thất bại\"));\r\n  };\r\n\r\n  const handleUploadAvatar = (picture) => {\r\n    if (!picture || picture.length !== 1) return;\r\n    userService.updateAvatar(currentUser.id, picture[0]).then((respone) => {\r\n      setProfile({ ...profile, avatar: respone.data.avatar });\r\n    });\r\n  };\r\n\r\n  if (!currentUser) return <Redirect to=\"/\" />;\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"md\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        {profile.avatar ? (\r\n          <Avatar\r\n            src={`${apiLocation}/${profile.avatar}`}\r\n            alt=\"Ảnh đại diện\"\r\n            style={{ height: 200, width: 200 }}\r\n          />\r\n        ) : (\r\n          <Avatar\r\n            style={{ height: 200, width: 200, backgroundColor: \"purple\" }}\r\n          >\r\n            {profile.name}\r\n          </Avatar>\r\n        )}\r\n        <ImageUploader\r\n          buttonText=\"Chọn ảnh đại diện\"\r\n          label=\"Không chọn ảnh vượt quá 1MB\"\r\n          onChange={handleUploadAvatar}\r\n          imgExtension={[\".jpg\"]}\r\n          maxFileSize={1048576}\r\n          fileSizeError=\"Kích thước ảnh quá lớn\"\r\n          fileTypeError=\"Chỉ chấp nhận định dạng ảnh jpg\"\r\n          singleImage={true}\r\n        />\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"Tên đăng nhập\"\r\n            name=\"username\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            variant=\"filled\"\r\n            defaultValue={currentUser.username}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"name\"\r\n            label=\"Họ tên\"\r\n            name=\"name\"\r\n            value={profile.name}\r\n            onChange={handleChange}\r\n          />\r\n          <FormControl\r\n            required\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            className={classes.formControl}\r\n          >\r\n            <InputLabel id=\"gender-label\">Giới tính</InputLabel>\r\n            <Select\r\n              labelId=\"gender-label\"\r\n              id=\"gender\"\r\n              name=\"gender\"\r\n              label=\"Gender\"\r\n              defaultValue={0}\r\n              value={profile.gender}\r\n              onChange={handleChange}\r\n            >\r\n              <MenuItem value={0}>Bí mật</MenuItem>\r\n              <MenuItem value={1}>Nam</MenuItem>\r\n              <MenuItem value={2}>Nữ</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={profile.email}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"address\"\r\n            label=\"Địa chỉ\"\r\n            name=\"address\"\r\n            value={profile.address}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"phone\"\r\n            label=\"Số điện thoại\"\r\n            name=\"phone\"\r\n            type=\"number\"\r\n            value={profile.phone}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"dob\"\r\n            label=\"Ngày sinh\"\r\n            name=\"dob\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            type=\"date\"\r\n            value={profile.dob}\r\n            onChange={handleChange}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSave}\r\n          >\r\n            Lưu thông tin\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./components/home/Home\";\r\nimport Welcome from \"./components/home/Welcome\";\r\nimport Login from \"./components/user/Login\";\r\nimport Register from \"./components/user/Register\";\r\nimport Board from \"./components/board\";\r\nimport NewBoard from \"./components/board/NewBoard\";\r\nimport Header from \"./components/shared/Header\";\r\nimport authService from \"./services/authService\";\r\nimport Profile from \"./components/profile\";\r\n\r\nexport default function App() {\r\n  const [user, setUser] = useState(null);\r\n  useEffect(() => {\r\n    setUser(authService.getCurrentUser());\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header user={user} />\r\n      <Switch>\r\n        <Route path=\"/register\" component={Register} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/profile\" component={Profile} />\r\n        <Route exact path=\"/board/new\" component={NewBoard} />\r\n        <Route path=\"/board/:id\" component={Board} />\r\n        <Route path=\"/\" component={user ? Home : Welcome} />\r\n      </Switch>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}